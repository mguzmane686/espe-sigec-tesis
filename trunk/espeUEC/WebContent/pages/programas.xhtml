<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	
	<ui:composition template="/templates/generalTemplate.xhtml"
		xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" 
		xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:p="http://primefaces.org/ui">
	
	<ui:define name="pageTitle">Inicio</ui:define>

	<ui:define name="pageHeader">
	<h:outputStylesheet library="css" name="style.css" />
	<h:panelGroup layout="block" id="header">
		<a href="index.jsf" id="logo"><h:graphicImage library="images" name="logo.jpg" alt="LOGO" /></a>
		<h:panelGroup layout="block" id="navigation">
			<ul>
				<li class="first"><a href="index.jsf">#{msg.etiqueta_Inicio}</a></li>
				<li><a href="about.jsf">#{msg.etiqueta_nosotros}</a></li>
				<li class="selected"><a href="programas.jsf">#{msg.etiqueta_programas}</a></li>
				<li><a href="encuesta.jsf">#{msg.etiqueta_encuesta}</a></li>
				<li><a href="contact.jsf">#{msg.etiqueta_contacto}</a></li>
			</ul>
		</h:panelGroup>
		<h:panelGroup id="search" layout="block"/>
	</h:panelGroup> <!-- /#header -->
	</ui:define>
	
	<ui:define name="body">
	
	<h:outputStylesheet library="css" name="imageLinks.css" />
	<h:panelGroup layout="block" id="contents">
		
		<h:panelGroup layout="block" class="background">
			<h:panelGroup layout="block" id="services">
				<p>
				<p:dialog id="dialogPro" header="Le gustaria inscribirse al curso??" widgetVar="prograDialog" maximizable="false" minimizable="false"
					showEffect="explode" hideEffect="explode" modal="true" dynamic="true" appendToBody="true"> 
				        
			        <p:outputPanel id="documentPanel" autoUpdate="true">
				        <p:panel>
					        <h:panelGrid id="display" columns="2" cellpadding="4">  
					            <h:outputText value="Nombre del curso: " />
					            <h:outputText value="#{programasController.cursoPeriodoSeleccionado.curso.nombreCurso}" />
					            
					            <h:outputText value="Generalidades del curso: " />
					            <h:outputText value="#{programasController.cursoPeriodoSeleccionado.curso.generalidadesCurso}" />
					            
					            <h:outputText value="Perfil del participante: " />
					            <h:outputText value="#{programasController.cursoPeriodoSeleccionado.curso.perfilParticipante}" />
					        </h:panelGrid>
				        
				        </p:panel>
				        
				        
				        <h:panelGrid columns="2" style="width:100%; text-align:center;" columnClasses="centrarCelda, centrarCelda">
					        <p:commandLink  value="Aceptar" styleClass="aceptar" style="width:100px" oncomplete="prograDialog.hide();" action="inscripcion?faces-redirect=true" ajax="true" process="@this">
					        	<f:setPropertyActionListener target="#{inscripcionController.cursoPeriodo}" value="#{programasController.cursoPeriodoSeleccionado}"></f:setPropertyActionListener>
					        	<f:setPropertyActionListener target="#{inscripcionController.cursoPeriodo.programaCurso}" value="#{programasController.programaCursoSeleccionado}"></f:setPropertyActionListener>
					        </p:commandLink>
					        <p:commandLink onclick="prograDialog.hide();" value="Cancelar" styleClass="cancelar" style="width:100px"/>
				        </h:panelGrid>
			        </p:outputPanel>  
			    </p:dialog>
			    
				<p:dataTable value="#{programasController.lstProgramaCursos}" var="programaCurso" >
	                <p:column  headerText="Programas" >
						<p:dataTable var="curso" value="#{programaCurso.programaCursoCollection}" id="tblPrograma">
							<p:column headerText="#{programaCurso.nombre}">  
				                <p:commandLink value="#{curso.cursoPeriodo.curso.nombreCurso}" process="@this" action="#{programasController.btnAceptar}" oncomplete="prograDialog.show();">
									<f:setPropertyActionListener target="#{programasController.cursoPeriodoSeleccionado}" value="#{curso.cursoPeriodo}"></f:setPropertyActionListener>
									<f:setPropertyActionListener target="#{programasController.programaCursoSeleccionado}" value="#{curso}"></f:setPropertyActionListener>
								</p:commandLink>
				            </p:column>
						</p:dataTable>
					</p:column>
				</p:dataTable>
				</p>
			</h:panelGroup>
		</h:panelGroup>
	</h:panelGroup> <!-- /#contents -->
	</ui:define>
	</ui:composition>
</html>