<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<ui:composition template="/templates/common.xhtml"
	xmlns:uec="http://java.sun.com/jsf/composite/components"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="pageTitle">Inicio</ui:define>

	<ui:define name="pageHeader">

	</ui:define>

	<ui:define name="body">

		<h:panelGroup layout="block">
			<h:panelGroup layout="block">
				<h:panelGroup layout="block">
					<p:ajaxStatus onstart="statusDialog.show();" onsuccess="statusDialog.hide();" />

					<p:dialog modal="true" widgetVar="statusDialog" header="Status" showHeader="false" draggable="false" closable="false">
						<h:graphicImage library="images" name="ajax-loader.gif" />
					</p:dialog>
					<h:form id="frmInscripcion">
						<p:panel id="pnlDatosEstCur">
							<f:facet name="header">
								<h:panelGrid columns="1" style="margin:auto; text-align:center;">
									<h:outputText value="Curso : #{inscripcionController.cursoPeriodo.curso.nombreCurso}" />
									<h:panelGrid columns="2" style="margin:auto; text-align:center;">
										<p:commandButton value="Nuevo" id="btnNuevoAlumno"
											action="#{inscripcionController.btnNewEstudent}" process="@this"
											update="pnlDatosEstCur" >
											<p:tooltip for="btnNuevoAlumno" value="Estudiante nuevo" />
										</p:commandButton>
										<p:commandButton id="btnBuscarEstudiante" value="Buscar"
											action="#{inscripcionController.btnFindStudent}" process="@this"
											update="pnlDatosEstCur" >
											<p:tooltip for="btnBuscarEstudiante" value="Estudiante ya registrado"/>
										</p:commandButton>
										
									</h:panelGrid>
								</h:panelGrid>
							</f:facet>
							
							<f:facet name="footer">
								<h:panelGroup style="text-align:center;" layout="block">
									<p:commandButton id="btnGuardarInscripcion" value="Inscribirse"
										action="#{inscripcionController.btnGuardarInscripcion}"
										process="@this pnlDatosEst" update="pnlDatosEstCur">
										<p:tooltip for="btnGuardarInscripcion" value="Inscribirse al curso: #{inscripcionController.cursoPeriodo.curso.nombreCurso}"/>
									</p:commandButton>
								</h:panelGroup>
							</f:facet>
						
							<p:messages id="msgs" autoUpdate="true" />
							
							<h:panelGrid style="margin:auto;">
							<h:panelGrid columns="3" rendered="#{inscripcionController.findMode}" id="pnlFindFilter">
								<h:outputLabel value="#{msg.etiqueta_cedula}" style="margin-right: 56px;" />
								<p:inputText id="txtCedulaFilter" value="#{inscripcionController.cedulaUsr}"
									validator="cedulaValidator" required="true"
									requiredMessage="El documento es obligatorio"/>
								<p:commandButton value="Buscar" action="#{inscripcionController.btnBuscarPorCedula}"
									process="@this txtCedulaFilter" update="pnlDatosEst"/>
							</h:panelGrid>
							
							<h:panelGrid columns="2" id="pnlDatosEst">
								<h:outputText value="Identificador: " styleClass="tamanioLabel" rendered="#{!inscripcionController.findMode}" />
								<p:inputText value="#{inscripcionController.persona.usuario.identificador}" rendered="#{!inscripcionController.findMode}" />

								<h:outputText value="Clave" styleClass="tamanioLabel" style="display:block; width:200px;" rendered="#{!inscripcionController.findMode}" />
								<p:password value="#{inscripcionController.persona.usuario.clave}" rendered="#{!inscripcionController.findMode}" />

								<h:outputText value="#{msg.etiqueta_cedula}: " />
								<p:inputText value="#{inscripcionController.persona.cedula}"
									required="true" rendered="#{!inscripcionController.findMode}" validator="cedulaValidator"
									validatorMessage="Documento invalido" requiredMessage="El campo documento es obligatorio" />

								<h:outputText value="#{inscripcionController.persona.cedula}" rendered="#{inscripcionController.findMode}" />

								<h:outputText value="Nombre: " />
								<h:panelGrid cellpadding="0" cellspacing="0" columns="2">
									<p:inputText  value="#{inscripcionController.persona.primerNombre}" rendered="#{!inscripcionController.findMode}" />
									<p:inputText value="#{inscripcionController.persona.segundoNombre}" rendered="#{!inscripcionController.findMode}" />

									<h:outputText style="padding-right: 10px;" value="#{inscripcionController.persona.primerNombre}" rendered="#{inscripcionController.findMode}" />
									<h:outputText value="#{inscripcionController.persona.segundoNombre}" rendered="#{inscripcionController.findMode}" />
								</h:panelGrid>


								<h:outputText value="Apellido: " />
								<h:panelGrid cellpadding="0" cellspacing="0" columns="2">
									<p:inputText value="#{inscripcionController.persona.primerApellido}" rendered="#{!inscripcionController.findMode}" />
									<p:inputText value="#{inscripcionController.persona.segundoApellido}" rendered="#{!inscripcionController.findMode}" />

									<h:outputText style="padding-right: 10px;" value="#{inscripcionController.persona.primerApellido}" rendered="#{inscripcionController.findMode}" />
									<h:outputText value="#{inscripcionController.persona.segundoApellido}" rendered="#{inscripcionController.findMode}" />
								</h:panelGrid>

								<h:outputText value="Fecha nacimiento: " />
								<p:calendar value="#{inscripcionController.persona.fechaNacimiento}"
									rendered="#{!inscripcionController.findMode}"
									pattern="yyyy-MM-dd" navigator="true" />
								<h:outputText value="#{inscripcionController.persona.fechaNacimiento}" rendered="#{inscripcionController.findMode}" />

								<h:outputText value="Nacionalidad: " />
								<p:inputText value="#{inscripcionController.persona.nacionalidad}" rendered="#{!inscripcionController.findMode}" />
								<h:outputText value="#{inscripcionController.persona.nacionalidad}" rendered="#{inscripcionController.findMode}" />

								<h:outputText value="#{msg.etiqueta_direccion}: " />
								<p:inputText value="#{inscripcionController.persona.direccion}" rendered="#{!inscripcionController.findMode}" />
								<h:outputText value="#{inscripcionController.persona.direccion}" rendered="#{inscripcionController.findMode}" />

								<h:outputText value="E-mail: " />
								<p:inputText value="#{inscripcionController.persona.mail}" rendered="#{!inscripcionController.findMode}" />
								<h:outputText value="#{inscripcionController.persona.mail}" rendered="#{inscripcionController.findMode}" />

								<h:outputText value="#{msg.etiqueta_telefono}: " />
								<p:inputText value="#{inscripcionController.persona.telefonoCelular}" rendered="#{!inscripcionController.findMode}" />
								<h:outputText value="#{inscripcionController.persona.telefonoCelular}" rendered="#{inscripcionController.findMode}" />
							</h:panelGrid>
							
							</h:panelGrid>
						</p:panel>
					</h:form>
				</h:panelGroup>
			</h:panelGroup>
		</h:panelGroup>

	</ui:define>
</ui:composition>
</html>