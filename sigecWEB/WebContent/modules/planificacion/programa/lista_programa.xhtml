<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:a4j="http://richfaces.org/a4j" 
	xmlns:rich="http://richfaces.org/rich" 
	xmlns:sigecComp="http://java.sun.com/jsf/composite/components">
	
	<h:outputStylesheet library="css" name="textos.css" />
	<h:outputStylesheet library="css" name="bordes.css" />
	<h:outputStylesheet library="css" name="botones.css" />

	<h:form id="frmPrograma">

		<rich:panel header="#{msg['creacion_curso']}">
			<h:panelGroup layout="block" styleClass="roundCorner">
				<h:panelGrid columns="1" style="padding-left:10px; text-align:center;">
					<a4j:commandButton value="#{msg['guardar']}" render="pnlCurso" actionListener="#{cursoController.btnSaveCurso}" 
						image="/resources/images/save.png" />
					<h:outputLabel value="#{msg['guardar']}" />
				</h:panelGrid>
			</h:panelGroup>
		</rich:panel>

		<rich:panel header="#{msg['creacion_curso']}" id="pnlCurso">
			<fieldset>
				<legend>
					<h:outputLabel value="#{msg['datos_curso']}" styleClass="titulo" />
				</legend>
				
				<rich:dataTable value="#{listaProgramaController.lstProgramas}" var="programa" style="width:100%;">
					<rich:column>
						<f:facet name="header">
							<h:outputLabel value="#{msg.nombre}" />
						</f:facet>
						<a4j:commandLink value="#{programa.nombre}" oncomplete="#{rich:component('popupPrograma')}.show()" execute="@this" render="popupPrograma">
							<f:setPropertyActionListener target="#{listaProgramaController.programaSelected}" value="#{programa}"></f:setPropertyActionListener>
						</a4j:commandLink>
					</rich:column>
					
					<rich:column>
						<f:facet name="header">
							<h:outputLabel value="#{msg.descripcion} :" />
						</f:facet>
						<h:outputLabel value="#{programa.descripcion }" />
					</rich:column>
				</rich:dataTable>
			</fieldset>
		</rich:panel>
		
		<rich:popupPanel id="popupPrograma" modal="true" autosized="true" resizeable="false" domElementAttachment="parent" header="Detalle programa">
	        <f:facet name="controls">
	            <h:outputLink value="#" onclick="#{rich:component('popupPrograma')}.hide(); return false;">
	                X
	            </h:outputLink>
	        </f:facet>
	        <h:panelGrid columns="2">
	        	<h:outputLabel value="#{msg.nombre }" />
	        	<h:outputText value="#{listaProgramaController.programaSelected.nombre }" />
	        </h:panelGrid>	
		</rich:popupPanel>
	</h:form>
</ui:composition>
