<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:sigecComp="http://java.sun.com/jsf/composite/components">
    
    
    
    	<h:outputStylesheet library="css" name="textos.css"/>    
    	<h:outputStylesheet library="css" name="bordes.css"/>
    	<h:outputStylesheet library="css" name="botones.css"/>
    	
    	
        <h:form id="frmCurso">
        	
        	<rich:panel header="#{msg.etiqueta_actualizacion_curso}">
        		<h:panelGroup layout="block" styleClass="roundCorner">
	        		<h:panelGrid columns="2" id="pnlBtnCurso">
	        			<h:panelGrid columns="1" style="padding-left:10px; text-align:center;" rendered="#{!edicionCursoController.renderEditButtons}">
	        				<a4j:commandButton value="#{msg['editar']}" render="pnlCurso, pnlBtnCurso"
	        					actionListener="#{edicionCursoController.btnEditCurso}" image="/resources/images/edit.png"/>
	        				<h:outputLabel value="#{msg['editar']}" />
	        			</h:panelGrid>
	        			
	        			<h:panelGrid columns="1" style="padding-left:10px; text-align:center;" rendered="#{!edicionCursoController.renderEditButtons}">
	        				<a4j:commandButton value="#{msg['atras']}" render="pnlCurso" immediate="true" 
	        					actionListener="#{edicionCursoController.btnAtras}" image="/resources/images/go-back.png"/>
	        				<h:outputLabel value="#{msg['atras']}" />
	        			</h:panelGrid>
	        			
	        			<h:panelGrid columns="1" style="padding-left:10px; text-align:center;" rendered="#{edicionCursoController.renderEditButtons}">
	        				<a4j:commandButton value="#{msg['guardar']}" render="pnlBtnCurso, pnlCurso" 
	        					actionListener="#{edicionCursoController.btnSaveEditCurso}" image="/resources/images/save.png"/>
	        				<h:outputLabel value="#{msg['guardar']}" />
	        			</h:panelGrid>
	        			
	        			<h:panelGrid columns="1" style="padding-left:10px; text-align:center;" rendered="#{edicionCursoController.renderEditButtons}">
	        				<a4j:commandButton value="#{msg['cancelar']}" render="pnlBtnCurso, pnlCurso" immediate="true" 
	        					actionListener="#{edicionCursoController.btnCancelEditCurso}" image="/resources/images/cancel.png"/>
	        				<h:outputLabel value="#{msg['cancelar']}" />
	        			</h:panelGrid>
	        		</h:panelGrid>
        		</h:panelGroup>
        	</rich:panel>
        	
        	<rich:panel header="#{msg['etiqueta_actualizacion_curso']}" id="pnlCurso">
        	
	        	<fieldset>
	        		<legend>
	        			<h:outputLabel value="#{msg['datos_curso']}" styleClass="titulo"/>
	        		</legend>
	        		<h:panelGrid columns="2">
	        			<h:outputLabel value="#{msg['etiqueta_especialidad']}:" />
	        			<h:outputText value="#{edicionCursoController.curso.especialidad.nombre}" />
	        			
	        			<h:outputLabel value="#{msg['nombre']}:"/>
	        			<h:inputText value="#{edicionCursoController.curso.nombreCurso}" size="72" required="true" 
	        				requiredMessage="El campo Nombre es obligatorio"
	        				rendered="#{edicionCursoController.renderEditButtons}"/>
	        			<h:outputText value="#{edicionCursoController.curso.nombreCurso}" rendered="#{!edicionCursoController.renderEditButtons}"/>
	        			
	        			<h:outputLabel value="#{msg.etiqueta_generalidades} :" />
						<h:inputTextarea value="#{edicionCursoController.curso.generalidadesCurso}" cols="70"  
							required="true" requiredMessage="El campo Descripcion es obligatorio" 
							rendered="#{edicionCursoController.renderEditButtons}"/>
						<h:outputText value="#{edicionCursoController.curso.generalidadesCurso}" rendered="#{!edicionCursoController.renderEditButtons}"/>
						
						<h:outputLabel value="#{msg.etiqueta_nivel_curso} :" />
						<h:selectOneRadio value="#{edicionCursoController.curso.nivelCurso}" disabled="#{!edicionCursoController.renderEditButtons}">
							<f:selectItem itemLabel="#{msg.etiqueta_nivelCurso_Basico}"  itemValue="B"/>
							<f:selectItem itemLabel="#{msg.etiqueta_nivelCurso_Intermedio}"  itemValue="I"/>
							<f:selectItem itemLabel="#{msg.etiqueta_nivelCurso_Avanzado}"  itemValue="A"/>
						</h:selectOneRadio>
						
						<h:outputLabel value="#{msg.etiqueta_objetivoGeneral} :" />
						<h:inputTextarea cols="70" value="#{edicionCursoController.curso.objetivoGeneral}" rendered="#{edicionCursoController.renderEditButtons}"/>
						<h:outputText value="#{edicionCursoController.curso.objetivoGeneral}" rendered="#{!edicionCursoController.renderEditButtons}" />
						
						<h:outputLabel value="#{msg.etiqueta_objetivosEspecificos} :" />
						<h:inputTextarea cols="70" rows="6" value="#{edicionCursoController.curso.objetivosEspecificos}" rendered="#{edicionCursoController.renderEditButtons}"/>
						<h:outputText value="#{edicionCursoController.curso.objetivosEspecificos}" rendered="#{!edicionCursoController.renderEditButtons}" />
						
						<h:outputLabel value="#{msg.etiqueta_perfil_participante} :" />
						<h:inputTextarea cols="70" rows="6" value="#{edicionCursoController.curso.perfilParticipante}" rendered="#{edicionCursoController.renderEditButtons}"/>
						<h:outputText value="#{edicionCursoController.curso.perfilParticipante}" rendered="#{!edicionCursoController.renderEditButtons}" />
						
						<h:outputLabel value="#{msg.etiqueta_perfil_docente} :" />
						<h:inputTextarea cols="70" rows="6" value="#{edicionCursoController.curso.perfilDocente}" rendered="#{edicionCursoController.renderEditButtons}"/>
						<h:outputText value="#{edicionCursoController.curso.perfilDocente}" rendered="#{!edicionCursoController.renderEditButtons}" />
	        		</h:panelGrid>
	        	</fieldset>
	        	
	        	<fieldset>
	        		<legend>
	        			<h:outputLabel value="#{msg.etiqueta_modulos_curso}" styleClass="titulo" />
	        		</legend>
	        		
	        		<a4j:outputPanel ajaxRendered="true">
		        		<h:panelGroup layout="block">
		   					<a4j:commandButton id="btnNuevoTema" rendered="#{edicionCursoController.renderEditButtons}" 
		   						value="Nuevo #{msg.etiqueta_modulo}" onclick="#{rich:component('popupNuevoModulo')}.show()" immediate="true"/>
		   					<script>
		   						$("#frmCurso\\:btnNuevoTema").live('click',function(){
		   							$("#frmNuevoCurso\\:txtNomTem").attr('value','');
		   							$("#frmNuevoCurso\\:txtDetTem").attr('value','');
		   							$("#frmNuevoCurso\\:txtNivMod").attr('value','');
		   							$("#frmNuevoCurso\\:txtNomTem").focus();
			   					});
		   					</script>
		   				</h:panelGroup>
		        		<rich:panel rendered="#{empty edicionCursoController.curso.moduloCursoCollection}">
		        			#{msg.etiqueta_curso_sin_modulos}
		        		</rich:panel>
		        		<rich:dataTable id="tblTemario" style="width:100%" value="#{edicionCursoController.curso.moduloCursoCollection}" var="modulo" rows="5" rendered="#{!empty edicionCursoController.curso.moduloCursoCollection}">
		        			<f:facet name="header">
		        				<h:outputLabel value="#{msg.etiqueta_modulos}" />
		        			</f:facet>
		        			
		        			<rich:column>
			        			<f:facet name="header">
			        				<h:outputLabel value="#{msg.etiqueta_modulo}" />
			        			</f:facet>
			        			<h:inputText value="#{modulo.nombre}" style="width:100%" rendered="#{edicionCursoController.renderEditButtons}"/>
			        			<h:outputText value="#{modulo.nombre}" style="width:100%" rendered="#{!edicionCursoController.renderEditButtons}"/>
		        			</rich:column>
		        			
		        			<rich:column>
			        			<f:facet name="header">
			        				<h:outputLabel value="#{msg['descripcion']}" />
			        			</f:facet>
			        			<h:inputText value="#{modulo.generalidades}" style="width:100%" rendered="#{edicionCursoController.renderEditButtons}"/>
			        			<h:outputText value="#{modulo.generalidades}" style="width:100%" rendered="#{!edicionCursoController.renderEditButtons}"/>
		        			</rich:column>
		        			
		        		</rich:dataTable>
		        		<rich:dataScroller for="tblTemario" renderIfSinglePage="false"></rich:dataScroller>
	        		</a4j:outputPanel>
	        	</fieldset>	
        	</rich:panel>
        	
        </h:form>
        
        <rich:popupPanel id="popupNuevoModulo" header="#{msg.etiqueta_agregar_modulos_curso}" modal="true" resizeable="false" autosized="true" keepVisualState="true">
		        
	        <f:facet name="controls">
	            <h:outputLink value="#" onclick="#{rich:component('popupNuevoModulo')}.hide(); return false;">
	                    X
	                </h:outputLink>
	        </f:facet>
	        <h:form id="frmNuevoCurso">
		        <h:panelGrid columns="2" id="pgDatosTema">
		        	<h:outputLabel value="Tema" />
		        	<h:inputText id="txtNomTem" value="#{edicionCursoController.moduloCurso.nombre}" tabindex="1"/>
		        	
		        	<h:outputLabel value="#{msg['descripcion']}" />
		        	<h:inputText id="txtDetTem" value="#{edicionCursoController.moduloCurso.generalidades}" tabindex="2"/>
		        	
		        	<h:outputLabel value="Orden :" />
					<h:inputText id="txtNivMod" value="#{cursoController.moduloCurso.nivel}" tabindex="3" 
						required="true" requiredMessage="El campo Orden es obligatorio" />
		        </h:panelGrid>
		        
		        <h:panelGroup layout="block" style="text-align:right; width:100%">
		        <a4j:commandButton value="#{msg['etiqueta_aniadir_Tema']}" styleClass="btnAux addBtn" 
		        	actionListener="#{edicionCursoController.btnAddModuloCurso}" execute="pgDatosTema" oncomplete="#{rich:component('popupNuevoModulo')}.hide()"/>
		        
		        <a4j:commandButton value="#{msg['cancelar']}" styleClass="btnAux removeBtn" style="width:70px" immediate="true"
				oncomplete="#{rich:component('popupNuevoModulo')}.hide()" />
		        </h:panelGroup>
	        </h:form>
	    </rich:popupPanel>
</ui:composition>
