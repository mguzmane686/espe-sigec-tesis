<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:a4j="http://richfaces.org/a4j" 
	xmlns:rich="http://richfaces.org/rich" 
	xmlns:sigecComp="http://java.sun.com/jsf/composite/components">
	
	<h:outputStylesheet library="css" name="textos.css" />
	<h:outputStylesheet library="css" name="bordes.css" />
	<h:outputStylesheet library="css" name="botones.css" />

	<h:form id="frmPrograma">

		<rich:panel header="#{msg.etiqueta_detalle_programa}" id="pnlPrograma">
			<h:panelGroup layout="block" styleClass="roundCorner">
				<h:panelGrid columns="2" id="pgBotones">
					<h:panelGrid columns="1" style="padding-left:10px; text-align:center;" rendered="#{!administrarProgramaController.editMode}">
	       				<a4j:commandButton value="#{msg['editar']}" action="#{administrarProgramaController.btnEditPrograma}" immediate="true" 
	       					image="/resources/images/edit.png" render="pgBotones, pnlPrograma" execute="@this"/>
	       				<h:outputLabel value="#{msg['editar']}" />
	       			</h:panelGrid>
	       			
	       			<h:panelGrid columns="1" style="padding-left:10px; text-align:center;" rendered="#{!administrarProgramaController.editMode}">
	       				<a4j:commandButton value="#{msg['atras']}"  immediate="true" action="#{administrarProgramaController.btnAtras}" 
	       					image="/resources/images/go-back.png"/>
	       				<h:outputLabel value="#{msg['atras']}" />
	       			</h:panelGrid>
		        	
					<h:panelGrid columns="1" style="padding-left:10px; text-align:center;" rendered="#{administrarProgramaController.editMode}">
						<a4j:commandButton value="#{msg['guardar']}" actionListener="#{administrarProgramaController.btnSavePrograma}" 
							image="/resources/images/save.png" render="pnlPrograma, pgBotones"/>
						<h:outputLabel value="#{msg['guardar']}" />
					</h:panelGrid>
					
					<h:panelGrid columns="1" style="padding-left:10px; text-align:center;" rendered="#{administrarProgramaController.editMode}" >
	       				<a4j:commandButton value="#{msg['cancelar']}" immediate="true" execute="@this" action="#{administrarProgramaController.btnCancelEditPrograma}" 
	       					image="/resources/images/cancel.png" render="pgBotones, pnlPrograma"/>
	       				<h:outputLabel value="#{msg['cancelar']}" />
	       			</h:panelGrid>
       			</h:panelGrid>
			</h:panelGroup>
			
			<rich:collapsiblePanel header="#{msg.etiqueta_datos_programa}"  headerClass="headerDivCollap" styleClass="mainDivCollap" 
				leftCollapsedIcon="triangleDown" leftExpandedIcon="triangleUp" switchType="client">
				
				<h:panelGrid columns="2">
				
					<h:outputLabel value="#{msg.nombre} :" />
					<sigecComp:textField value="#{administrarProgramaController.programa.nombre}" editMode="#{administrarProgramaController.editMode}" required="true" label="#{msg.nombre}" size="80"></sigecComp:textField>
					
					<h:outputLabel value="#{msg.descripcion} :" />
					<h:outputText value="#{administrarProgramaController.programa.descripcion}" size="80" rendered="#{!administrarProgramaController.editMode}"/>
					<h:inputText value="#{administrarProgramaController.programa.descripcion}" size="80" rendered="#{administrarProgramaController.editMode}"/>
					
					<h:outputLabel value="Fecha inicio" />
					<h:outputText value="#{administrarProgramaController.programa.inicio}" rendered="#{!administrarProgramaController.editMode}"/>
					<rich:calendar value="#{administrarProgramaController.programa.inicio}" rendered="#{administrarProgramaController.editMode}" required="true" requiredMessage="El campo Fecha inicio es obligatorio"/>
					
					<h:outputLabel value="Estado" />
					<h:outputText value="#{administrarProgramaController.programa.estado=='1'?'Activo':'Inactivo'}" rendered="#{!administrarProgramaController.editMode}"/>
					<h:selectOneRadio value="#{administrarProgramaController.programa.estado}" rendered="#{administrarProgramaController.editMode}">
						<f:selectItem itemLabel="Activo" itemValue="1"/>
						<f:selectItem itemLabel="Inactivo" itemValue="0"/>
					</h:selectOneRadio>
				</h:panelGrid>
			</rich:collapsiblePanel>
			
			
			<rich:collapsiblePanel header="Cursos asignados al programa"  headerClass="headerDivCollap" styleClass="mainDivCollap" 
				leftCollapsedIcon="triangleDown" leftExpandedIcon="triangleUp" switchType="client">
			
				<h:panelGroup rendered="#{empty administrarProgramaController.lstProgramaCursos}">
					No se encontraron cursos asignados al programa
				</h:panelGroup>
				
				<rich:dataTable value="#{administrarProgramaController.lstProgramaCursos}" var="cursoPrograma" style="width:100%"  
					rendered="#{!empty administrarProgramaController.lstProgramaCursos}">
					<rich:column style="text-align:center" rendered="#{administrarProgramaController.editMode}">
						<f:facet name="header">
							<h:outputLabel value="Seleccione" />
						</f:facet>
						<h:selectBooleanCheckbox value="#{cursoPrograma.selected}" >
						</h:selectBooleanCheckbox>
					</rich:column>
					
					<rich:column>
						<f:facet name="header">
							<h:outputLabel value="Nombre" />
						</f:facet>
						<h:outputText value="#{cursoPrograma.cursoPeriodo.curso.nombreCurso}" />
					</rich:column>
					
					<rich:column>
						<f:facet name="header">
							<h:outputLabel value="Objetivo general" />
						</f:facet>
						<h:outputText value="#{cursoPrograma.cursoPeriodo.curso.objetivoGeneral}" />
					</rich:column>
					
				</rich:dataTable>
			</rich:collapsiblePanel>
		</rich:panel>

	</h:form>
</ui:composition>
